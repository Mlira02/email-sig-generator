{"ast":null,"code":"import _defineProperty from\"/Users/andrewuebe/email-sig-generator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/andrewuebe/email-sig-generator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/andrewuebe/email-sig-generator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/andrewuebe/email-sig-generator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/andrewuebe/email-sig-generator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{FormControl,Select,MenuItem,InputLabel,TextField,IconButton}from\"@material-ui/core\";import Papa from\"papaparse\";import{DeleteIcon}from\"@material-ui/icons\";var csvURL=\"https://s3.us-east-2.amazonaws.com/assets.ard.northwestern.edu/files/email-sig-generator/university-specific-programming-messages.csv\";var UniversityProgramming=/*#__PURE__*/function(_Component){_inherits(UniversityProgramming,_Component);var _super=_createSuper(UniversityProgramming);function UniversityProgramming(props){var _this;_classCallCheck(this,UniversityProgramming);_this=_super.call(this,props);_this.handleSelectChange=function(event){_this.setState({curMsg:event.target.value});_this.props.handleFieldChange(event.target.value,event.target.name);};_this.state={curMsg:\"\",msgChoices:[]};return _this;}_createClass(UniversityProgramming,[{key:\"componentDidMount\",value:function componentDidMount(){Papa.parse(csvURL,{header:true,download:true,skipEmptyLines:true,complete:this.updateData.bind(this)});}},{key:\"updateData\",value:function updateData(result){var data=result.data;var filteredData=data.filter(function(msg){return msg.isEnabledChoice.toLowerCase().includes(\"true\");});this.setState({msgChoices:filteredData});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"form-step\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-step__field\"},/*#__PURE__*/React.createElement(FormControl,{fullWidth:true,variant:\"outlined\",className:\"form-control\"},/*#__PURE__*/React.createElement(InputLabel,{className:\"label-control\"},\"Programming Message\"),/*#__PURE__*/React.createElement(Select,_defineProperty({className:\"select-control\",value:this.state.curAddress,name:\"specialMsg\",onChange:this.handleSelectChange},\"value\",this.props.fieldDefaultVals),/*#__PURE__*/React.createElement(MenuItem,{value:\"\"}),/*#__PURE__*/React.createElement(MenuItem,{value:\"\",label:\"No message\"},\"No message\"),this.state.msgChoices.map(function(msg,index){return/*#__PURE__*/React.createElement(MenuItem,{value:msg.messageCopy,label:msg.messageCopy},msg.messageCopy);})))));}}]);return UniversityProgramming;}(Component);export{UniversityProgramming as default};","map":{"version":3,"sources":["/Users/andrewuebe/email-sig-generator/src/components/UniversityProgramming.js"],"names":["React","Component","FormControl","Select","MenuItem","InputLabel","TextField","IconButton","Papa","DeleteIcon","csvURL","UniversityProgramming","props","handleSelectChange","event","setState","curMsg","target","value","handleFieldChange","name","state","msgChoices","parse","header","download","skipEmptyLines","complete","updateData","bind","result","data","filteredData","filter","msg","isEnabledChoice","toLowerCase","includes","curAddress","fieldDefaultVals","map","index","messageCopy"],"mappings":"8vBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OACEC,WADF,CAEEC,MAFF,CAGEC,QAHF,CAIEC,UAJF,CAKEC,SALF,CAMEC,UANF,KAOO,mBAPP,CAQA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CACA,OAASC,UAAT,KAA2B,oBAA3B,CACA,GAAMC,CAAAA,MAAM,CACV,uIADF,C,GAGqBC,CAAAA,qB,8HACnB,+BAAYC,KAAZ,CAAmB,uDACjB,uBAAMA,KAAN,EADiB,MAyBnBC,kBAzBmB,CAyBE,SAACC,KAAD,CAAW,CAC9B,MAAKC,QAAL,CAAc,CAAEC,MAAM,CAAEF,KAAK,CAACG,MAAN,CAAaC,KAAvB,CAAd,EACA,MAAKN,KAAL,CAAWO,iBAAX,CAA6BL,KAAK,CAACG,MAAN,CAAaC,KAA1C,CAAiDJ,KAAK,CAACG,MAAN,CAAaG,IAA9D,EACD,CA5BkB,CAEjB,MAAKC,KAAL,CAAa,CACXL,MAAM,CAAE,EADG,CAEXM,UAAU,CAAE,EAFD,CAAb,CAFiB,aAMlB,C,+FAEmB,CAClBd,IAAI,CAACe,KAAL,CAAWb,MAAX,CAAmB,CACjBc,MAAM,CAAE,IADS,CAEjBC,QAAQ,CAAE,IAFO,CAGjBC,cAAc,CAAE,IAHC,CAIjBC,QAAQ,CAAE,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAJO,CAAnB,EAMD,C,8CAEUC,M,CAAQ,CACjB,GAAMC,CAAAA,IAAI,CAAGD,MAAM,CAACC,IAApB,CACA,GAAMC,CAAAA,YAAY,CAAGD,IAAI,CAACE,MAAL,CAAY,SAAAC,GAAG,QAChCA,CAAAA,GAAG,CAACC,eAAJ,CAAoBC,WAApB,GAAkCC,QAAlC,CAA2C,MAA3C,CADgC,EAAf,CAArB,CAGA,KAAKtB,QAAL,CAAc,CAAEO,UAAU,CAAEU,YAAd,CAAd,EACD,C,uCAOQ,CACP,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,WAAD,EACE,SAAS,KADX,CAEE,OAAO,CAAC,UAFV,CAGE,SAAS,CAAC,cAHZ,eAKE,oBAAC,UAAD,EAAY,SAAS,CAAC,eAAtB,wBALF,cAQE,oBAAC,MAAD,kBACE,SAAS,CAAC,gBADZ,CAEE,KAAK,CAAE,KAAKX,KAAL,CAAWiB,UAFpB,CAGE,IAAI,CAAC,YAHP,CAIE,QAAQ,CAAE,KAAKzB,kBAJjB,UAKS,KAAKD,KAAL,CAAW2B,gBALpB,eAOE,oBAAC,QAAD,EAAU,KAAK,CAAC,EAAhB,EAPF,cAQE,oBAAC,QAAD,EAAU,KAAK,CAAC,EAAhB,CAAmB,KAAK,CAAC,YAAzB,eARF,CASG,KAAKlB,KAAL,CAAWC,UAAX,CAAsBkB,GAAtB,CAA0B,SAACN,GAAD,CAAMO,KAAN,qBACzB,oBAAC,QAAD,EAAU,KAAK,CAAEP,GAAG,CAACQ,WAArB,CAAkC,KAAK,CAAER,GAAG,CAACQ,WAA7C,EACGR,GAAG,CAACQ,WADP,CADyB,EAA1B,CATH,CARF,CADF,CADF,CADF,CA8BD,C,mCA9DgDzC,S,SAA9BU,qB","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  FormControl,\n  Select,\n  MenuItem,\n  InputLabel,\n  TextField,\n  IconButton,\n} from \"@material-ui/core\";\nimport Papa from \"papaparse\";\nimport { DeleteIcon } from \"@material-ui/icons\";\nconst csvURL =\n  \"https://s3.us-east-2.amazonaws.com/assets.ard.northwestern.edu/files/email-sig-generator/university-specific-programming-messages.csv\";\n\nexport default class UniversityProgramming extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      curMsg: \"\",\n      msgChoices: [],\n    };\n  }\n\n  componentDidMount() {\n    Papa.parse(csvURL, {\n      header: true,\n      download: true,\n      skipEmptyLines: true,\n      complete: this.updateData.bind(this),\n    });\n  }\n\n  updateData(result) {\n    const data = result.data;\n    const filteredData = data.filter(msg =>\n        msg.isEnabledChoice.toLowerCase().includes(\"true\")\n    );\n    this.setState({ msgChoices: filteredData });\n  }\n\n  handleSelectChange = (event) => {\n    this.setState({ curMsg: event.target.value });\n    this.props.handleFieldChange(event.target.value, event.target.name);\n  };\n\n  render() {\n    return (\n      <div className=\"form-step\">\n        <div className=\"form-step__field\">\n          <FormControl\n            fullWidth\n            variant=\"outlined\"\n            className=\"form-control\"\n          >\n            <InputLabel className=\"label-control\">\n              Programming Message\n            </InputLabel>\n            <Select\n              className=\"select-control\"\n              value={this.state.curAddress}\n              name=\"specialMsg\"\n              onChange={this.handleSelectChange}\n              value={this.props.fieldDefaultVals}\n            >\n              <MenuItem value=\"\"></MenuItem>\n              <MenuItem value=\"\" label=\"No message\">No message</MenuItem>\n              {this.state.msgChoices.map((msg, index) => (\n                <MenuItem value={msg.messageCopy} label={msg.messageCopy}>\n                  {msg.messageCopy}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}